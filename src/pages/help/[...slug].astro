---
import { type CollectionEntry, getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
    const docs = await getCollection("docs");
    return docs.map((doc) => ({
        params: { slug: doc.slug },
        props: doc,
    }));
}
type Props = CollectionEntry<"docs">;

const doc = Astro.props;
const { Content } = await doc.render();
---

<Layout title={`${doc.data.title} - FluxLinux Help`}>
    <div class="bg-white dark:bg-dark py-24 sm:py-32">
        <div class="mx-auto max-w-3xl px-6 lg:px-8">
            <!-- Breadcrumb / Back link -->
            <div class="mb-8">
                <a
                    href="/help/"
                    class="text-sm font-semibold leading-6 text-primary hover:text-primary-hover flex items-center gap-1 group"
                >
                    <span
                        class="group-hover:-translate-x-1 transition-transform"
                        >‚Üê</span
                    > Back to Help Center
                </a>
            </div>

            <article
                class="prose prose-lg dark:prose-invert prose-primary mx-auto"
            >
                <header
                    class="mb-10 border-b border-gray-200 dark:border-gray-700 pb-10"
                >
                    <h1
                        class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl"
                    >
                        {doc.data.title}
                    </h1>
                    <p
                        class="mt-4 text-xl leading-8 text-gray-600 dark:text-gray-300"
                    >
                        {doc.data.description}
                    </p>
                </header>

                <Content />
            </article>
        </div>
    </div>
</Layout>
